<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alternative Protein Industry Analysis - Gabby Bui</title>
    <style>
        /* Base styles from your Sign Language project */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.7;
            color: #2d3748;
            background: linear-gradient(135deg, #faf8f5 0%, #f0ebe6 100%);
            background-attachment: fixed;
        }
        
        .page-wrapper {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Sidebar Navigation */
        .toc-sidebar {
            width: 250px;
            position: sticky;
            top: 20px;
            height: fit-content;
            padding: 25px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.08);
            margin: 20px;
            flex-shrink: 0;
            border-left: 3px solid #5B9BD5;
        }

        .toc-sidebar h3 { margin-top: 0; margin-bottom: 18px; font-size: 1.1em; color: #1a202c; font-weight: 600; }
        .toc-sidebar ul { list-style: none; padding: 0; margin: 0; }
        .toc-sidebar li { margin-bottom: 8px; }
        .toc-sidebar a {
            color: #5a5a5a; text-decoration: none; display: block;
            padding: 8px 12px; border-radius: 6px;
            transition: all 0.2s ease; font-size: 0.9em;
            border-left: 2px solid transparent;
        }
        .toc-sidebar a:hover, .toc-sidebar a.active {
            background-color: #faf5f0; color: #0051BA;
            border-left: 2px solid #0051BA; font-weight: 500;
        }

        /* Main Content */
        .main-content { flex: 1; max-width: 900px; padding: 20px; }
        @media (max-width: 1024px) { .toc-sidebar { display: none; } }

        .breadcrumb { margin-bottom: 25px; }
        .breadcrumb a { color: #718096; text-decoration: none; font-size: 0.95em; }
        .breadcrumb a:hover { color: #0051BA; }
        
        h1 { color: #1a202c; margin-bottom: 12px; font-size: 2.3em; font-weight: 700; letter-spacing: -0.5px; }
        h2 { color: #2d3748; margin-top: 50px; margin-bottom: 20px; border-bottom: 2px solid #5B9BD5; padding-bottom: 12px; scroll-margin-top: 20px; font-weight: 600; }
        h3 { color: #555; margin-top: 30px; margin-bottom: 10px; }
        
        p { margin-bottom: 18px; font-size: 1.02em; }
        
        /* Code Blocks - keeping them simpler */
        code { background-color: #f7f3ed; padding: 3px 7px; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.9em; color: #333; }
        pre {
            background: #2d2d2d;
            color: #f8f8f2; padding: 20px; border-radius: 8px;
            overflow-x: auto; margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        pre code { background-color: transparent; color: #f8f8f2; padding: 0; }
        
        /* Removed "boxes" styles, using standard sections */
        .section { background: rgba(255, 255, 255, 0.9); padding: 30px; margin: 25px 0; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

        img { max-width: 100%; border-radius: 6px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-top: 15px; }
        hr { border: none; border-top: 1px solid #e2d5c8; margin: 35px 0; }
        a { color: #0051BA; text-decoration: none; transition: color 0.2s; }
        a:hover { text-decoration: underline; }

        /* Math formula styling */
        .math-block {
            background: #fcfcfc;
            border: 1px solid #e0e0e0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Times New Roman', serif;
            font-style: italic;
            text-align: center;
            margin: 20px 0;
            font-size: 1.1em;
        }
    </style>
</head>
<body>

<div class="page-wrapper">

    <aside class="toc-sidebar">
        <h3>Table of Contents</h3>
        <ul>
            <li><a href="#intro" data-section="intro">Introduction</a></li>
            <li><a href="#method" data-section="method">Difference-in-Differences</a></li>
            <li><a href="#setup" data-section="setup">Setting up the Code</a></li>
            <li><a href="#cleaning" data-section="cleaning">Cleaning Data</a></li>
            <li><a href="#categorizing" data-section="categorizing">Categorizing B2B vs B2C</a></li>
            <li><a href="#analysis" data-section="analysis">The Analysis</a></li>
            <li><a href="#results" data-section="results">Results & Discussion</a></li>
            <li><a href="#acknowledgement" data-section="acknowledgement">Acknowledgement</a></li>
        </ul>
    </aside>

    <div class="main-content">
        <div class="container">
            <nav class="breadcrumb">
                <a href="index.html">← Back to Home</a>
            </nav>
            
            <h1>Alternative Protein Industry Analysis</h1>
            <p style="color: #7f8c8d; font-size: 1.1em;">Using Difference-in-Differences to investigate the "Picks and Shovels" hypothesis</p>

            <hr>

            <div class="section">
                <h2 id="intro">Introduction and Background</h2>
                
                <p>When I look at the grocery store shelves these days, I see so many plant-based burger brands. There is Beyond Meat, Impossible Foods, and so many other startups trying to do the same thing. It honestly feels very crowded. As an economics student, this made me wonder about where the investment money is actually going. If the market for burgers is saturated, surely the smart investors must be looking somewhere else.</p>
                
                <p>There is a concept from the Gold Rush called "picks and shovels." The idea is that most people digging for gold went broke, but the people who sold the tools, like the shovels and jeans, made consistent money. I started to think that maybe the same thing is happening in the alternative protein industry. Instead of betting on another consumer brand (B2C), maybe investors are pivoting to the companies that provide the ingredients and technology (B2B) to everyone else.</p>

                <p>This led me to my research question: Did investors pivot toward B2B companies significantly more than B2C companies after the industry boom in 2019? To answer this, I decided to use a dataset that I collected myself, which contains over 2,000 company records from 2008 to 2024. You can view the raw data <a href="https://www.dropbox.com/scl/fi/sdd5sq80l0rv002os6v1w/All_Companies_Database.csv?rlkey=chodjs7k4aw5d0pxrs42j05xt&st=ws0v96n1&dl=0" target="_blank">here</a>.</p>
            </div>

            <div class="section">
                <h2 id="method">The Difference-in-Differences Estimator</h2>
                
                <p>To analyze this, I cannot simply compare the average funding of B2B companies against B2C companies because they are different types of businesses. I also cannot just compare funding before 2019 and after 2019 because the whole industry grew during that time. I need a method that isolates the specific effect of being a B2B company after the boom occurred.</p>

                <p>I chose the Difference-in-Differences (DiD) estimator. This is a statistical technique that compares the changes in outcomes over time between a treatment group and a control group. In my case, the treatment group is the B2B companies, and the control group is the B2C companies.</p>

                <p>The mathematical regression model I am using is:</p>
                
                <div class="math-block">
                    <math>$Y_{it} = \beta_0 + \beta_1 T_i + \beta_2 P_t + \beta_3 (T_i \times P_t) + \epsilon_{it}$</math>
                </div>

                <p>Here, $Y_{it}$ is the capital raised. $T_i$ is the treatment dummy (1 if B2B, 0 if B2C). $P_t$ is the time dummy (1 if Post-2019, 0 if Pre-2019). The most important part is $\beta_3$, which is the interaction term. This coefficient tells us the "Difference-in-Differences," or how much extra funding the B2B companies received specifically because of the pivot.</p>
            </div>

            <div class="section">
                <h2 id="setup">Setting up the Code</h2>
                <p>I started by importing the necessary libraries. I need pandas to handle the database, numpy for the numerical calculations, and matplotlib to draw the parallel trend graphs.</p>

                <pre><code>import pandas as pd
import numpy as np
import matplotlib.pyplot as plt</code></pre>

                <p>Then I uploaded the dataset. I used the <code>read_csv</code> function from pandas to load the file into a dataframe.</p>

                <pre><code>df = pd.read_csv("All_Companies_Database.csv")</code></pre>

                <p>I always like to check if the data loaded correctly by printing the first few rows. This helps me see what the columns look like.</p>

                <pre><code>print(df.head())</code></pre>
            </div>

            <div class="section">
                <h2 id="cleaning">Cleaning the Data</h2>
                <p>When I looked at the data, I realized the 'RaisedToDate' column was stored as text strings because they included dollar signs and commas, like "$1,000,000". I cannot do math with text, so I wrote a function to clean this up.</p>

                <p>The function checks if the value is a string, removes the symbols, and handles any missing values (which were marked as '-'). Then it converts the clean number into a float so the computer can calculate the mean later.</p>

                <pre><code>def clean_currency(x):
    if isinstance(x, str):
        x = x.replace('$', '').replace(',', '')
        if x.strip() in ['-', '']: return None
        try: return float(x)
        except: return None
    return x

df['RaisedToDate_cleaned'] = df['RaisedToDate'].apply(clean_currency)</code></pre>
            </div>

            <div class="section">
                <h2 id="categorizing">Categorizing Business Models</h2>
                <p>This was a very important step for my analysis. The dataset had many companies with complex business models. Some companies do both B2B and B2C. For example, they might sell ingredients to other companies but also sell their own nuggets in supermarkets. These "Hybrid" companies make the comparison muddy because it is hard to say which group they belong to.</p>
                
                <p>To make my results as clear as possible, I decided to exclude the hybrid models. I wrote a function that strictly categorizes a company as 'B2B (Treatment)' only if they are purely B2B, and 'B2C (Control)' only if they are purely B2C.</p>

                <pre><code>def categorize_b2b(val):
    if pd.isna(val): return None
    if 'B2B' in val and 'B2C' in val: return 'Hybrid' # Exclude mixed models
    if 'B2B' in val: return 'B2B (Treatment)'
    if 'B2C' in val: return 'B2C (Control)'
    return None

df['BusinessModel'] = df['B2B/B2C'].apply(categorize_b2b)</code></pre>

                <p>I also needed to filter the companies based on when they were founded. If I included every single company, the data would be very noisy because hundreds of tiny startups appeared during the bubble years of 2020-2022. I wanted to see how established companies pivoted. So, I created a cohort of companies that were founded on or before 2015.</p>

                <pre><code>def clean_year(y):
    try: return int(y)
    except: return None

df['Year_founded_clean'] = df['Year founded'].apply(clean_year)

# Filter for the cohort founded <= 2015
cohort_df = df[
    (df['Year_founded_clean'] <= 2015) & 
    (df['BusinessModel'].isin(['B2B (Treatment)', 'B2C (Control)'])) & 
    (df['RaisedToDate_cleaned'].notnull())
].copy()</code></pre>
            </div>

            <div class="section">
                <h2 id="analysis">Visualizing Parallel Trends</h2>
                <p>Before calculating the DiD estimator, I had to check the parallel trends assumption. This assumption states that if the boom had not happened, the treatment and control groups would have continued to move in parallel. If they were already moving in different directions before 2019, my analysis would be invalid.</p>
                
                <p>I plotted the average capital raised for both groups over time to check this visually.</p>

                <pre><code>trend_data = cohort_df.groupby(['Year', 'BusinessModel'])['RaisedToDate_cleaned'].mean().unstack()

plt.figure(figsize=(12, 6))
plt.plot(trend_data.index, trend_data['B2B (Treatment)'], label='B2B', marker='o')
plt.plot(trend_data.index, trend_data['B2C (Control)'], label='B2C', marker='s')
plt.axvline(x=2019, color='red', linestyle='--', label='Boom (2019)')
plt.legend()
plt.show()</code></pre>
                
                <figure>
                    <img src="b2b_vs_b2c_did_plot.png" alt="Graph showing parallel trends before 2019 and divergence after">
                    <figcaption>Figure 1: Parallel trends check. The correlation between the two groups before 2019 is 0.60.</figcaption>
                </figure>
            </div>

            <div class="section">
                <h2 id="results">Results and Discussion</h2>
                
                <p>Finally, I calculated the Difference-in-Differences estimator. I split the data into the Pre-period (before 2019) and the Post-period (after 2019) and calculated the mean capital raised for both groups.</p>

                <pre><code>cohort_df['Period'] = cohort_df['Year'].apply(lambda x: 'Post' if x > 2019 else 'Pre')
did_stats = cohort_df.groupby(['BusinessModel', 'Period'])['RaisedToDate_cleaned'].mean()
print(did_stats)</code></pre>

                <p>The results show a clear divergence in funding. Below is the summary of the causal effect:</p>

                <div style="background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 20px; font-family: monospace; margin: 20px 0;">
                    <p style="margin:0;"><strong>Difference-in-Differences Estimator</strong></p>
                    <hr style="margin: 10px 0;">
                    <p>Treatment Group (B2B) Growth:&nbsp;&nbsp;&nbsp; $376.71 Million</p>
                    <p>Control Group (B2C) Growth:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $119.47 Million</p>
                    <p>--------------------------------------------------</p>
                    <p style="color: #2e7d32; font-weight: bold;">DiD Coefficient (Effect):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $257.24 Million</p>
                </div>

                <p>The calculation shows that B2B companies raised an additional $257 million on average compared to their B2C counterparts after the 2019 boom. This supports my hypothesis that investors pivoted toward the "picks and shovels" of the industry as the consumer market became saturated.</p>
                
                <p>It is important to note that this is exploratory analysis. The companies were not randomly assigned to be B2B or B2C, so there might be other unobserved variables at play. However, the strong parallel trends before 2019 give me some confidence that this captures a real shift in investor sentiment.</p>
            </div>

            <div class="section">
                <h2 id="acknowledgement">Acknowledgement and Reference</h2>
                <p>This project relies on a dataset I personally collected and cleaned, which aggregates information on over 2,000 companies from the Good Food Institute, PitchBook, and DealRoom.</p>
                
                <p>For the methodology, I consulted the following resources:</p>
                <ul>
                    <li>Facure, M. (n.d.). <em>Causal Inference for the Brave and True: Difference-in-Differences</em>.</li>
                    <li>Angrist, J. D., & Pischke, J. (2014). <em>Mastering 'Metrics: The Path from Cause to Effect</em>.</li>
                </ul>
            </div>

            <hr>
            <p style="text-align: center; color: #7f8c8d; margin-top: 40px;">
                <em>Built and written with ❤️ by Gabby Bui | Macalester College</em>
            </p>
        </div>
    </div>
</div>

<script>
// Scroll spy logic
document.addEventListener('DOMContentLoaded', function() {
    const sections = document.querySelectorAll('h2[id]');
    const navLinks = document.querySelectorAll('.toc-sidebar a[data-section]');
    
    const observerOptions = {
        root: null, rootMargin: '-20% 0px -35% 0px', threshold: 0
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.getAttribute('id');
                navLinks.forEach(link => { link.classList.remove('active'); });
                const activeLink = document.querySelector(`.toc-sidebar a[data-section="${id}"]`);
                if (activeLink) { activeLink.classList.add('active'); }
            }
        });
    }, observerOptions);
    
    sections.forEach(section => { observer.observe(section); });
});
</script>

</body>
</html>
